{% extends 'base.html' %}
{% load static %}
{% block content %}
{% load permissions %}  {# BU YANGI FILTERLARNI ISHLATISH UCHUN #}

<!-- CSS ulanishi -->
<link href="{% static 'css/home.css' %}" rel="stylesheet" />

<!-- Bosh Header bo‘limi -->
<header class="p-3 mb-2 bg-primary text-white">
    <div class="container d-flex align-items-center justify-content-between px-3 px-lg-5">
        <!-- Logotip -->
        <div class="logo">
            <img src="{% static 'assets/maskan.ico' %}" alt="Logo" style="max-width: 100px;">
        </div>
        <!-- Sarlavha va slogan -->
        <div class="text-end text-uppercase">
            <h1 class="mb-4" style="font-family: 'Georgia', serif; font-size: 2.5rem;">Maskan</h1>
            <p class="lead" style="font-family: 'Arial', sans-serif;">Mushkulini oson qilamiz</p>
        </div>
    </div>
</header>

<!-- ✅ Yangi: Header CSS ni joyida saqlash uchun stil qo‘shildi -->
<style>
    header .logo {
        flex-shrink: 0;
    }
    header .text-end {
        flex-grow: 1;
    }
    header .container {
        display: flex;
        align-items: center;
        justify-content: space-between;
    }
</style>

<!-- ✅ Tugma qismi -->
<div class="container my-5">
    <div class="row text-center justify-content-between">

        <!-- ✅ YANGI: Ushbu tugma faqat 'Qabriston Egasi' guruhidagilarga ko‘rinadi -->
        {% comment %} {% if user.is_authenticated and user.groups.filter(name="Qabriston Egasi").exists %} {% endcomment %}
        {% if is_qabriston_egasi %}

        <div class="col-md-4 mb-3">
            <a href="{% url 'add_infodata' %}" class="custom-button d-block">
                <img src="{% static 'assets/maskan.ico' %}" alt="Icon 1" class="button-icon">
                Ro'yhatga olish
            </a>
        </div>
        {% endif %}

        <!-- ❗Boshqa tugmalar izohda qoldirilgan. Agar kerak bo‘lsa, shularni ham shart bilan faollashtirsa bo‘ladi -->

    </div>
</div>

<!-- ✅ Tugmalar dizayni uchun qo‘shimcha stil -->
<style>
    .custom-button {
        width: 200px;
        height: 80px;
        display: flex;
        justify-content: center;
        align-items: center;
        text-align: center;
        background-color: white;
        border: 2px solid black;
        border-radius: 8px;
        color: #000;
        font-weight: bold;
        font-size: 18px;
        transition: background-color 0.3s ease, transform 0.2s ease;
        padding: 10px;
        box-sizing: border-box;
    }

    .custom-button:hover {
        background-color: #1E90FF;
        color: #fff;
        transform: scale(1.45);
    }

    .button-icon {
        width: 60px;
        height: 60px;
        display: block;
        margin: 0 auto;
        margin-bottom: 10px;
    }
</style>

{% endblock %}
